(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2898:(t,e,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(5306)}])},5306:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s});var r=i(7876),a=i(4232);function s(){let[t,e]=(0,a.useState)(null),[i,s]=(0,a.useState)(null),[l,n]=(0,a.useState)(null),[o,d]=(0,a.useState)(!1),p=async e=>{if(e.preventDefault(),!t&&!i)return void alert("Please upload at least one CSV file");d(!0);let r=new FormData;t&&r.append("watchlist",t),i&&r.append("ratings",i);try{let t=await fetch("/api/migrate",{method:"POST",body:r}),e=await t.json();n(e)}catch(t){n({error:"Failed to process files"})}d(!1)};return(0,r.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"20px"},children:[(0,r.jsx)("h1",{children:"IMDb to Stremio Migrator"}),(0,r.jsx)("p",{children:"Upload your IMDb CSV exports to migrate your watchlist and ratings to Stremio via Trakt."}),(0,r.jsxs)("form",{onSubmit:p,children:[(0,r.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,r.jsx)("label",{htmlFor:"watchlist",children:"IMDb Watchlist CSV:"}),(0,r.jsx)("input",{type:"file",id:"watchlist",accept:".csv",onChange:t=>{e(t.target.files[0])},style:{display:"block",marginTop:"5px"}})]}),(0,r.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,r.jsx)("label",{htmlFor:"ratings",children:"IMDb Ratings CSV:"}),(0,r.jsx)("input",{type:"file",id:"ratings",accept:".csv",onChange:t=>{s(t.target.files[0])},style:{display:"block",marginTop:"5px"}})]}),(0,r.jsx)("button",{type:"submit",disabled:o,style:{padding:"10px 20px",backgroundColor:"#0070f3",color:"white",border:"none",borderRadius:"5px",cursor:o?"not-allowed":"pointer"},children:o?"Processing...":"Start Migration"})]}),l&&(0,r.jsxs)("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#f5f5f5",borderRadius:"5px"},children:[(0,r.jsx)("h3",{children:"Result:"}),(0,r.jsx)("pre",{children:JSON.stringify(l,null,2)})]})]})}}},t=>{t.O(0,[636,593,792],()=>t(t.s=2898)),_N_E=t.O()}]);